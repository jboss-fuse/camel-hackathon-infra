apiVersion: v1
kind: Secret
metadata:
  name: s3-storage-config
type: Opaque
stringData:
  AWS_ACCESS_KEY_ID: minio
  AWS_SECRET_ACCESS_KEY: minio123
  AWS_BUCKET: threescale-system
  AWS_REGION: us-east-1
  AWS_HOSTNAME: minio:9000
  AWS_PROTOCOL: http
  AWS_PATH_STYLE: "true"
---
apiVersion: apps.3scale.net/v1alpha1
kind: APIManager
metadata:
  name: hackathon-apimanager
  namespace: 3scale
spec:
  imagePullSecrets:
    - name: threescale-registry-auth
  system:
    appSpec:
      replicas: 1
    sidekiqSpec:
      replicas: 1
    fileStorage:
      simpleStorageService:
        configurationSecretRef:
          name: s3-storage-config
  zync:
    appSpec:
      replicas: 1
    queSpec:
      replicas: 1
  backend:
    cronSpec:
      replicas: 1
    listenerSpec:
      replicas: 1
    workerSpec:
      replicas: 1
  apicast:
    productionSpec:
      replicas: 1
    stagingSpec:
      replicas: 1
  wildcardDomain: apps.hackathon.fuse.integration-qe.com
  tenantName: hackathon

