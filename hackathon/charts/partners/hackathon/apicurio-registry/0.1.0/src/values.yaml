# Default values for apicurio-registry
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

registry:
  # Name of the Apicurio Registry instance
  name: apicurio-registry

  # Deployment configuration
  deployment:
    # Number of replicas
    replicas: 1
    # OpenShift Route will be automatically created
    # The hostname will be auto-generated by OpenShift

  # Configuration settings
  configuration:
    # Persistence type: sql or kafkasql
    persistence: sql

    # SQL configuration (used when persistence=sql)
    sql:
      dataSource:
        # Database URL - will be auto-configured to use the postgres-cluster subchart
        # Format: jdbc:postgresql://<cluster-name>-primary.<namespace>.svc:5432/<database>
        url: ""
        # Username - PostgreSQL user name
        userName: "apicurio"
        # Password - shared with PostgreSQL
        password: "apicurio123"
        # Database name
        database: "registry"

# PostgreSQL configuration (subchart dependency)
postgresql:
  # Enable PostgreSQL subchart deployment
  enabled: true

# postgres-cluster subchart configuration
postgres-cluster:
  cluster:
    # Name of the PostgreSQL cluster (will be used in connection URL)
    name: "apicurio-postgres"
  # PostgreSQL user configuration
  user:
    name: "apicurio"
    password: "apicurio123"  # Same password as Apicurio Registry
    passwordSecretName: "apicurio-postgres-pguser-apicurio-pwd"
    database: "registry"
